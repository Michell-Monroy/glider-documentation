\chapter{How to Deploy AWS Infrastructure}
\hypertarget{md__2_users_2michellmonroy_2_documents_2dev-glider_2glider_2src_2_how_deploy_a_w_s}{}\label{md__2_users_2michellmonroy_2_documents_2dev-glider_2glider_2src_2_how_deploy_a_w_s}\index{How to Deploy AWS Infrastructure@{How to Deploy AWS Infrastructure}}
\label{md__2_users_2michellmonroy_2_documents_2dev-glider_2glider_2src_2_how_deploy_a_w_s_autotoc_md64}%
\Hypertarget{md__2_users_2michellmonroy_2_documents_2dev-glider_2glider_2src_2_how_deploy_a_w_s_autotoc_md64}%


\hypertarget{md__2_users_2michellmonroy_2_documents_2dev-glider_2glider_2src_2_how_deploy_a_w_s_autotoc_md65}{}\doxysection{\texorpdfstring{Prerequisites}{Prerequisites}}\label{md__2_users_2michellmonroy_2_documents_2dev-glider_2glider_2src_2_how_deploy_a_w_s_autotoc_md65}

\begin{DoxyItemize}
\item Python \texorpdfstring{$>$}{>}= 3.\+9
\item AWS Account
\item Terraform \href{https://www.terraform.io/downloads}{\texttt{ install}}
\end{DoxyItemize}\hypertarget{md__2_users_2michellmonroy_2_documents_2dev-glider_2glider_2src_2_how_deploy_a_w_s_autotoc_md66}{}\doxysection{\texorpdfstring{How to deploy terraform code}{How to deploy terraform code}}\label{md__2_users_2michellmonroy_2_documents_2dev-glider_2glider_2src_2_how_deploy_a_w_s_autotoc_md66}
{\bfseries{Note}}\+: There exists a file called "{}main.\+tf"{} it contains entire infrastructure and it {\bfseries{NEVER WOULD BE CHANGED}} because source code is connected to it. ~\newline
 Any type of editing in this file could cause the entire project to stop working as intended.


\begin{DoxyEnumerate}
\item Open a terminal in the glider project and put it on infrastructure folder.

{\ttfamily cd infrastructure/}
\item In Glider/infrastructure there are main.\+tf and variables.\+tf files. This is AWS infrastructure and env variables.

The env variables format is the following configure it with your AWS ACCESS KEY ID and AWS SECRET ACCESS KEY (You can copy these values from .env file)


\begin{DoxyCode}{0}
\DoxyCodeLine{variable\ "{}zones"{}\ \{}
\DoxyCodeLine{\ \ \ \ type\ =\ string}
\DoxyCodeLine{\ \ \ \ default\ =\ <<aws\_zone>>}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{variable\ "{}access\_key"{}\{}
\DoxyCodeLine{\ \ \ \ type\ =\ string}
\DoxyCodeLine{\ \ \ \ default\ =\ <<your\_aws\_access\_key\_id>>}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{variable\ "{}secret\_key"{}\{}
\DoxyCodeLine{\ \ \ \ type\ =\ string}
\DoxyCodeLine{\ \ \ \ default\ =\ <<your\_aws\_secret\_access\_key>>}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{variable\ "{}ip\_ec2\_lite"{}\{}
\DoxyCodeLine{\ \ \ \ type\ =\ string}
\DoxyCodeLine{\ \ \ \ default\ =\ <<your\_aws\_ip\_ec2\_lite>>}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{variable\ "{}ip\_ec2\_pro"{}\{}
\DoxyCodeLine{\ \ \ \ type\ =\ string}
\DoxyCodeLine{\ \ \ \ default\ =\ <<your\_aws\_ip\_ec2\_pro>>}
\DoxyCodeLine{\}}

\end{DoxyCode}

\item Start terraform env using\+:

{\ttfamily terraform init}
\item Create a new env to testing or dev\+:

{\ttfamily terraform workspace new \texorpdfstring{$<$}{<}\texorpdfstring{$<$}{<}env\+\_\+name\texorpdfstring{$>$}{>}\texorpdfstring{$>$}{>}}

This command helps us to have a version control.
\item Verify that you are in the correct env using\+:

{\ttfamily terraform workspace list}

It should show the current workspace.
\item To check if the code in main.\+tf is right use\+:

{\ttfamily terraform plan}
\item If everything is ok, apply infrastructure use\+:

{\ttfamily terraform apply}

Wait for it.
\item Go to \href{https://aws.amazon.com/}{\texttt{ AWS}} and confirm that entire configuration is created successfully (lambda and step functions).
\end{DoxyEnumerate}

{\bfseries{WARNING}}\+: To destroy infrastructure, use {\ttfamily terraform destroy}. This destroy all infrastructure indicated in main.\+tf

{\bfseries{More info}}


\begin{DoxyItemize}
\item \href{https://learn.hashicorp.com/collections/terraform/aws-get-started}{\texttt{ Terraform commands}} 
\end{DoxyItemize}
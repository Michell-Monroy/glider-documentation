\doxysection{Amazon\+FTP Namespace Reference}
\hypertarget{namespace_amazon_f_t_p}{}\label{namespace_amazon_f_t_p}\index{AmazonFTP@{AmazonFTP}}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespace_amazon_f_t_p_adaa915732ac8ab2ebefaad64dc64ac6a}{change\+\_\+period}} (start\+\_\+date)
\item 
\mbox{\hyperlink{namespace_amazon_f_t_p_ac87f30117a4614fe47bc1e0e9883e694}{rename\+\_\+sales}} (filename, folder)
\item 
\mbox{\hyperlink{namespace_amazon_f_t_p_accb1a1e5026527c551e9aa5cb85db933}{find\+\_\+monthly}} (r\+\_\+path, folder)
\item 
\mbox{\hyperlink{namespace_amazon_f_t_p_a8826d16fe5b7aa6ea52d2ab9813126e4}{download\+\_\+amz\+\_\+reports}} (event)
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespace_amazon_f_t_p_a5d538e1552eebb8a24c5b0e10a9ce419}{f\+\_\+path}} = \+\_\+\+\_\+file\+\_\+\+\_\+
\item 
\mbox{\hyperlink{namespace_amazon_f_t_p_a37bda958a4790b32c658d88a723512e5}{index}} = f\+\_\+path.\+find("{}upload\+\_\+module/"{})
\item 
\mbox{\hyperlink{namespace_amazon_f_t_p_a67a5766806042353e13092fcd8a601e8}{mongo\+\_\+conn}} = mongo\+\_\+connection()
\begin{DoxyCompactList}\small\item\em Class to connect to mongodb. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespace_amazon_f_t_p_a8fdb63ff289903ae6801cf9355710d0a}{collection}} = mongo\+\_\+conn.\+mongo\+\_\+conn\+\_\+ftp()
\begin{DoxyCompactList}\small\item\em Mongo collection to search client ftp credentials. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespace_amazon_f_t_p_ab7016201da316309d8bf1cf86f86ed34}{\+\_\+\+ROOT\+\_\+\+DIR}} = os.\+path.\+expanduser(\textquotesingle{}\texorpdfstring{$\sim$}{\string~}\textquotesingle{})
\begin{DoxyCompactList}\small\item\em Sets the root path. \end{DoxyCompactList}\item 
str \mbox{\hyperlink{namespace_amazon_f_t_p_a49956a76b2cc96a89c6c614aae48eebe}{destination}} = \mbox{\hyperlink{namespace_amazon_f_t_p_ab7016201da316309d8bf1cf86f86ed34}{\+\_\+\+ROOT\+\_\+\+DIR}}+"{}/ftp\+\_\+downloads/"{}
\begin{DoxyCompactList}\small\item\em Sets the path were files will be downloaded temporally. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespace_amazon_f_t_p_a98dbd1c20dbda5ebe95b0400726eaf4f}{exist\+\_\+ok}}
\item 
\mbox{\hyperlink{namespace_amazon_f_t_p_a2af4be4ba15f44ddf5310bbfbc85ae3a}{client}} = None
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\Hypertarget{namespace_amazon_f_t_p_adaa915732ac8ab2ebefaad64dc64ac6a}\label{namespace_amazon_f_t_p_adaa915732ac8ab2ebefaad64dc64ac6a} 
\index{AmazonFTP@{AmazonFTP}!change\_period@{change\_period}}
\index{change\_period@{change\_period}!AmazonFTP@{AmazonFTP}}
\doxysubsubsection{\texorpdfstring{change\_period()}{change\_period()}}
{\footnotesize\ttfamily Amazon\+FTP.\+change\+\_\+period (\begin{DoxyParamCaption}\item[{}]{start\+\_\+date }\end{DoxyParamCaption})}

\begin{DoxyVerb}Sum one month to period extracted from MongoDB
Args:
    start_date (str): last period request (last period downloaded)
Returns : period (str)
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{_amazon_f_t_p_8py_source_l00031}{31}} of file \mbox{\hyperlink{_amazon_f_t_p_8py_source}{Amazon\+FTP.\+py}}.

Here is the caller graph for this function\+:
% FIG 0
\Hypertarget{namespace_amazon_f_t_p_a8826d16fe5b7aa6ea52d2ab9813126e4}\label{namespace_amazon_f_t_p_a8826d16fe5b7aa6ea52d2ab9813126e4} 
\index{AmazonFTP@{AmazonFTP}!download\_amz\_reports@{download\_amz\_reports}}
\index{download\_amz\_reports@{download\_amz\_reports}!AmazonFTP@{AmazonFTP}}
\doxysubsubsection{\texorpdfstring{download\_amz\_reports()}{download\_amz\_reports()}}
{\footnotesize\ttfamily Amazon\+FTP.\+download\+\_\+amz\+\_\+reports (\begin{DoxyParamCaption}\item[{}]{event }\end{DoxyParamCaption})}

\begin{DoxyVerb}Connects with ftp client and execute all download procedure. Finally calls clean_files
function to upload files to s3
Args:
    event (dict): Contains the client info to save files in s3
Returns : Nothing
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{_amazon_f_t_p_8py_source_l00090}{90}} of file \mbox{\hyperlink{_amazon_f_t_p_8py_source}{Amazon\+FTP.\+py}}.

Here is the call graph for this function\+:
% FIG 1
\Hypertarget{namespace_amazon_f_t_p_accb1a1e5026527c551e9aa5cb85db933}\label{namespace_amazon_f_t_p_accb1a1e5026527c551e9aa5cb85db933} 
\index{AmazonFTP@{AmazonFTP}!find\_monthly@{find\_monthly}}
\index{find\_monthly@{find\_monthly}!AmazonFTP@{AmazonFTP}}
\doxysubsubsection{\texorpdfstring{find\_monthly()}{find\_monthly()}}
{\footnotesize\ttfamily Amazon\+FTP.\+find\+\_\+monthly (\begin{DoxyParamCaption}\item[{}]{r\+\_\+path,  }\item[{}]{folder }\end{DoxyParamCaption})}

\begin{DoxyVerb}Identifies the Monthly folder in each Country Code folder.
Download the files according to periods got in change_period function.
Args:
    r_path (str): Remote FTP path
    folder (str): Current folder (ISO country code)
Returns : Nothing
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{_amazon_f_t_p_8py_source_l00066}{66}} of file \mbox{\hyperlink{_amazon_f_t_p_8py_source}{Amazon\+FTP.\+py}}.

Here is the call graph for this function\+:
% FIG 2
Here is the caller graph for this function\+:
% FIG 3
\Hypertarget{namespace_amazon_f_t_p_ac87f30117a4614fe47bc1e0e9883e694}\label{namespace_amazon_f_t_p_ac87f30117a4614fe47bc1e0e9883e694} 
\index{AmazonFTP@{AmazonFTP}!rename\_sales@{rename\_sales}}
\index{rename\_sales@{rename\_sales}!AmazonFTP@{AmazonFTP}}
\doxysubsubsection{\texorpdfstring{rename\_sales()}{rename\_sales()}}
{\footnotesize\ttfamily Amazon\+FTP.\+rename\+\_\+sales (\begin{DoxyParamCaption}\item[{}]{filename,  }\item[{}]{folder }\end{DoxyParamCaption})}

\begin{DoxyVerb}Adds County Code (CC) to files to avoid overwriting
Args:
    filename (str): Current filename
    folder (str): Current folder (ISO country code)
Returns : filename (str)
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{_amazon_f_t_p_8py_source_l00054}{54}} of file \mbox{\hyperlink{_amazon_f_t_p_8py_source}{Amazon\+FTP.\+py}}.

Here is the caller graph for this function\+:
% FIG 4


\doxysubsection{Variable Documentation}
\Hypertarget{namespace_amazon_f_t_p_ab7016201da316309d8bf1cf86f86ed34}\label{namespace_amazon_f_t_p_ab7016201da316309d8bf1cf86f86ed34} 
\index{AmazonFTP@{AmazonFTP}!\_ROOT\_DIR@{\_ROOT\_DIR}}
\index{\_ROOT\_DIR@{\_ROOT\_DIR}!AmazonFTP@{AmazonFTP}}
\doxysubsubsection{\texorpdfstring{\_ROOT\_DIR}{\_ROOT\_DIR}}
{\footnotesize\ttfamily Amazon\+FTP.\+\_\+\+ROOT\+\_\+\+DIR = os.\+path.\+expanduser(\textquotesingle{}\texorpdfstring{$\sim$}{\string~}\textquotesingle{})\hspace{0.3cm}{\ttfamily [protected]}}



Sets the root path. 



Definition at line \mbox{\hyperlink{_amazon_f_t_p_8py_source_l00024}{24}} of file \mbox{\hyperlink{_amazon_f_t_p_8py_source}{Amazon\+FTP.\+py}}.

\Hypertarget{namespace_amazon_f_t_p_a2af4be4ba15f44ddf5310bbfbc85ae3a}\label{namespace_amazon_f_t_p_a2af4be4ba15f44ddf5310bbfbc85ae3a} 
\index{AmazonFTP@{AmazonFTP}!client@{client}}
\index{client@{client}!AmazonFTP@{AmazonFTP}}
\doxysubsubsection{\texorpdfstring{client}{client}}
{\footnotesize\ttfamily Amazon\+FTP.\+client = None}



Definition at line \mbox{\hyperlink{_amazon_f_t_p_8py_source_l00029}{29}} of file \mbox{\hyperlink{_amazon_f_t_p_8py_source}{Amazon\+FTP.\+py}}.

\Hypertarget{namespace_amazon_f_t_p_a8fdb63ff289903ae6801cf9355710d0a}\label{namespace_amazon_f_t_p_a8fdb63ff289903ae6801cf9355710d0a} 
\index{AmazonFTP@{AmazonFTP}!collection@{collection}}
\index{collection@{collection}!AmazonFTP@{AmazonFTP}}
\doxysubsubsection{\texorpdfstring{collection}{collection}}
{\footnotesize\ttfamily Amazon\+FTP.\+collection = mongo\+\_\+conn.\+mongo\+\_\+conn\+\_\+ftp()}



Mongo collection to search client ftp credentials. 



Definition at line \mbox{\hyperlink{_amazon_f_t_p_8py_source_l00021}{21}} of file \mbox{\hyperlink{_amazon_f_t_p_8py_source}{Amazon\+FTP.\+py}}.

\Hypertarget{namespace_amazon_f_t_p_a49956a76b2cc96a89c6c614aae48eebe}\label{namespace_amazon_f_t_p_a49956a76b2cc96a89c6c614aae48eebe} 
\index{AmazonFTP@{AmazonFTP}!destination@{destination}}
\index{destination@{destination}!AmazonFTP@{AmazonFTP}}
\doxysubsubsection{\texorpdfstring{destination}{destination}}
{\footnotesize\ttfamily Amazon\+FTP.\+destination = \mbox{\hyperlink{namespace_amazon_f_t_p_ab7016201da316309d8bf1cf86f86ed34}{\+\_\+\+ROOT\+\_\+\+DIR}}+"{}/ftp\+\_\+downloads/"{}}



Sets the path were files will be downloaded temporally. 



Definition at line \mbox{\hyperlink{_amazon_f_t_p_8py_source_l00026}{26}} of file \mbox{\hyperlink{_amazon_f_t_p_8py_source}{Amazon\+FTP.\+py}}.

\Hypertarget{namespace_amazon_f_t_p_a98dbd1c20dbda5ebe95b0400726eaf4f}\label{namespace_amazon_f_t_p_a98dbd1c20dbda5ebe95b0400726eaf4f} 
\index{AmazonFTP@{AmazonFTP}!exist\_ok@{exist\_ok}}
\index{exist\_ok@{exist\_ok}!AmazonFTP@{AmazonFTP}}
\doxysubsubsection{\texorpdfstring{exist\_ok}{exist\_ok}}
{\footnotesize\ttfamily Amazon\+FTP.\+exist\+\_\+ok}



Definition at line \mbox{\hyperlink{_amazon_f_t_p_8py_source_l00027}{27}} of file \mbox{\hyperlink{_amazon_f_t_p_8py_source}{Amazon\+FTP.\+py}}.

\Hypertarget{namespace_amazon_f_t_p_a5d538e1552eebb8a24c5b0e10a9ce419}\label{namespace_amazon_f_t_p_a5d538e1552eebb8a24c5b0e10a9ce419} 
\index{AmazonFTP@{AmazonFTP}!f\_path@{f\_path}}
\index{f\_path@{f\_path}!AmazonFTP@{AmazonFTP}}
\doxysubsubsection{\texorpdfstring{f\_path}{f\_path}}
{\footnotesize\ttfamily Amazon\+FTP.\+f\+\_\+path = \+\_\+\+\_\+file\+\_\+\+\_\+}



Definition at line \mbox{\hyperlink{_amazon_f_t_p_8py_source_l00007}{7}} of file \mbox{\hyperlink{_amazon_f_t_p_8py_source}{Amazon\+FTP.\+py}}.

\Hypertarget{namespace_amazon_f_t_p_a37bda958a4790b32c658d88a723512e5}\label{namespace_amazon_f_t_p_a37bda958a4790b32c658d88a723512e5} 
\index{AmazonFTP@{AmazonFTP}!index@{index}}
\index{index@{index}!AmazonFTP@{AmazonFTP}}
\doxysubsubsection{\texorpdfstring{index}{index}}
{\footnotesize\ttfamily Amazon\+FTP.\+index = f\+\_\+path.\+find("{}upload\+\_\+module/"{})}



Definition at line \mbox{\hyperlink{_amazon_f_t_p_8py_source_l00008}{8}} of file \mbox{\hyperlink{_amazon_f_t_p_8py_source}{Amazon\+FTP.\+py}}.

\Hypertarget{namespace_amazon_f_t_p_a67a5766806042353e13092fcd8a601e8}\label{namespace_amazon_f_t_p_a67a5766806042353e13092fcd8a601e8} 
\index{AmazonFTP@{AmazonFTP}!mongo\_conn@{mongo\_conn}}
\index{mongo\_conn@{mongo\_conn}!AmazonFTP@{AmazonFTP}}
\doxysubsubsection{\texorpdfstring{mongo\_conn}{mongo\_conn}}
{\footnotesize\ttfamily Amazon\+FTP.\+mongo\+\_\+conn = mongo\+\_\+connection()}



Class to connect to mongodb. 



Definition at line \mbox{\hyperlink{_amazon_f_t_p_8py_source_l00018}{18}} of file \mbox{\hyperlink{_amazon_f_t_p_8py_source}{Amazon\+FTP.\+py}}.


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<<<<<<< HEAD
<meta name="generator" content="Doxygen 1.10.0"/>
=======
<meta name="generator" content="Doxygen 1.12.0"/>
>>>>>>> 4d6acd55a96da5cbf13e5842eae0fed6acfe4019
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Glider: API Module Workflow</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<<<<<<< HEAD
=======
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
>>>>>>> 4d6acd55a96da5cbf13e5842eae0fed6acfe4019
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Glider
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<<<<<<< HEAD
<!-- Generated by Doxygen 1.10.0 -->
=======
<!-- Generated by Doxygen 1.12.0 -->
>>>>>>> 4d6acd55a96da5cbf13e5842eae0fed6acfe4019
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<<<<<<< HEAD
=======
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
>>>>>>> 4d6acd55a96da5cbf13e5842eae0fed6acfe4019
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
<<<<<<< HEAD
  initMenu('',true,false,'search.php','Search');
=======
  initMenu('',true,false,'search.php','Search',false);
>>>>>>> 4d6acd55a96da5cbf13e5842eae0fed6acfe4019
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<<<<<<< HEAD
=======
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
>>>>>>> 4d6acd55a96da5cbf13e5842eae0fed6acfe4019
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<<<<<<< HEAD
=======
<div id="doc-content">
>>>>>>> 4d6acd55a96da5cbf13e5842eae0fed6acfe4019
<div><div class="header">
  <div class="headertitle"><div class="title">API Module Workflow</div></div>
</div><!--header-->
<div class="contents">
<<<<<<< HEAD
<div class="textblock"><p><a class="anchor" id="autotoc_md0"></a> </p>
<h1><a class="anchor" id="autotoc_md1"></a>
=======
<div class="textblock"><p><a class="anchor" id="autotoc_md6"></a></p>
<h1><a class="anchor" id="autotoc_md7"></a>
>>>>>>> 4d6acd55a96da5cbf13e5842eae0fed6acfe4019
Description</h1>
<p>Its a web interface where anyone can search some release(s)/track(s)</p>
<p>The content of this api is obtained from Catalogue Module</p>
<p>The main tools in the API are:</p><ul>
<li>/release (get)</li>
<li>/v2/release (get)</li>
</ul>
<p>The first one executes a search of a single one release or track using an existing upc or isrc respectively. <br  />
 The second one also makes releases/tracks searching but in massive way. It also uses upc and isrc as parameters but they are not merged between them, the searching is carried out just for several ups or several isrcs.</p>
<<<<<<< HEAD
<h1><a class="anchor" id="autotoc_md2"></a>
Workflow</h1>
<p><img src="https://github.com/Michell-Monroy/glider-documentation/blob/images-dev/images/api-workflow.jpeg?raw=true" alt="" style="width:px;height:px;" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md3"></a>
=======
<h1><a class="anchor" id="autotoc_md8"></a>
Workflow</h1>
<p><img src="https://github.com/Michell-Monroy/glider-documentation/blob/images-dev/images/api-workflow.jpeg?raw=true" alt="" style="width:px;height:px;" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md9"></a>
>>>>>>> 4d6acd55a96da5cbf13e5842eae0fed6acfe4019
How to create venv dev</h1>
<ol type="1">
<li><p class="startli">Create a new virtual env (if you have created this venv pass to step 4)</p>
<p class="startli"><code>python3 -m venv venv</code></p>
<p class="startli">It's important to keep "venv" name</p>
</li>
<li><p class="startli">Activate venv</p>
<p class="startli"><code>source venv/bin/activate</code></p>
</li>
<li><p class="startli">Install requirements</p>
<p class="startli"><code>pip install -r catalogue_api/requirements.txt</code></p>
</li>
<li><p class="startli">Activate env variables. You should create one .env file</p>
<div class="fragment"><div class="line">MONGO_GLIDER=&lt;MONGO_CONNECTION_LINK&gt;</div>
<div class="line">MONGO_RELEASES=&lt;MONGO_CONNECTION_LINK_FOR_RELEASES&gt;</div>
</div><!-- fragment --></li>
</ol>
<<<<<<< HEAD
<h1><a class="anchor" id="autotoc_md4"></a>
Testing</h1>
<h2><a class="anchor" id="autotoc_md5"></a>
=======
<h1><a class="anchor" id="autotoc_md10"></a>
Testing</h1>
<h2><a class="anchor" id="autotoc_md11"></a>
>>>>>>> 4d6acd55a96da5cbf13e5842eae0fed6acfe4019
Local Testing</h2>
<ol type="1">
<li><p class="startli">Activate venv and variables</p>
<p class="startli"><code>source venv/bin/activate</code></p>
</li>
<li><p class="startli">Locate in the Api folder <br  />
</p>
<p class="startli"><code>cd catalogue_api</code></p>
</li>
<<<<<<< HEAD
<li><p class="startli">Run <a class="el" href="app_8py.html">app.py</a></p>
<p class="startli"><code>python <a class="el" href="app_8py.html">app.py</a></code> <br  />
=======
<li><p class="startli">Run app.py</p>
<p class="startli"><code>python app.py</code> <br  />
>>>>>>> 4d6acd55a96da5cbf13e5842eae0fed6acfe4019
 It shows the endpoint in <a href="http://127.0.0.1:5000">http://127.0.0.1:5000</a> It should look like this: <br  />
</p>
<p class="startli"><img src="https://github.com/Michell-Monroy/glider-documentation/blob/images-dev/images/endpoint.png?raw=true" alt="" style="width:900px;height:350px;" class="inline"/></p>
</li>
</ol>
<<<<<<< HEAD
<p><b>Note</b>: Any modification code should be tested locally and running <a class="el" href="app_8py.html">app.py</a> before to deploy the endpoint</p>
<h1><a class="anchor" id="autotoc_md6"></a>
=======
<p><b>Note</b>: Any modification code should be tested locally and running app.py before to deploy the endpoint</p>
<h1><a class="anchor" id="autotoc_md12"></a>
>>>>>>> 4d6acd55a96da5cbf13e5842eae0fed6acfe4019
Deploy Endpoint</h1>
<p>To deploy the endpoint you must to have installed zappa already</p>
<ol type="1">
<li><p class="startli">Add AWS credentials to current project <br  />
 <code>.aws/credentials</code> <br  />
</p>
<p class="startli"><img src="https://github.com/Michell-Monroy/glider-documentation/blob/images-dev/images/aws_credentials_zappa.png?raw=true" alt="" style="width:700px;height:100px;" class="inline"/></p>
</li>
<li>Create setup.json file for the project: <br  />
 <code>zappa init</code> <br  />
</li>
<li>Install the required libraries: <br  />
 <code>pip freeze &gt; requirements.txt</code></li>
<li>Deploy endpoint <br  />
 <code>zappa deploy dev</code></li>
<li>EXTRA: to update an existing endpoint use <br  />
 <code>zappa update dev</code></li>
</ol>
<p>These steps return an endpoint link, in the browser should look like this:</p>
<p><img src="https://github.com/Michell-Monroy/glider-documentation/blob/images-dev/images/Glider_endpoint.png?raw=true" alt="" style="width:900px;height:350px;" class="inline"/></p>
<<<<<<< HEAD
<h1><a class="anchor" id="autotoc_md7"></a>
=======
<h1><a class="anchor" id="autotoc_md13"></a>
>>>>>>> 4d6acd55a96da5cbf13e5842eae0fed6acfe4019
Deploy Front End</h1>
<ol type="1">
<li>Clone the repository: <br  />
 <code>git clone <a href="https://github.com/OTTOGlider/catalogue-api.git">https://github.com/OTTOGlider/catalogue-api.git</a></code></li>
<li>Create a .env file in the root of project and add this line: <br  />
 <code>VUE_APP_API_URL=&lt;ENDPOINT_GENERATED_BY_ZAPPA&gt;</code></li>
<li>Open a terminal into project</li>
<li>Run <br  />
 <code>npm install</code> <br  />
 <code>npm run serve</code></li>
<li>Go to: <a href="http://localhost:8080/">http://localhost:8080/</a> <br  />
 It should look like this: <br  />
 <img src="https://github.com/Michell-Monroy/glider-documentation/blob/images-dev/images/Oba_catalogue.png?raw=true" alt="" style="width:900px;height:350px;" class="inline"/> </li>
</ol>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
<<<<<<< HEAD
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
=======
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
>>>>>>> 4d6acd55a96da5cbf13e5842eae0fed6acfe4019
</body>
</html>

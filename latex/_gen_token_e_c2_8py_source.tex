\doxysection{Gen\+Token\+EC2.\+py}
\hypertarget{_gen_token_e_c2_8py_source}{}\label{_gen_token_e_c2_8py_source}\index{/Users/michellmonroy/Documents/dev-\/glider/glider/src/upload\_module/gdrive/GenTokenEC2.py@{/Users/michellmonroy/Documents/dev-\/glider/glider/src/upload\_module/gdrive/GenTokenEC2.py}}
\mbox{\hyperlink{_gen_token_e_c2_8py}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_gen_token_e_c2_8py_source_l00001}\mbox{\hyperlink{namespace_gen_token_e_c2}{00001}}\ \textcolor{comment}{\#!/usr/bin/env\ python}}
\DoxyCodeLine{\Hypertarget{_gen_token_e_c2_8py_source_l00002}00002\ }
\DoxyCodeLine{\Hypertarget{_gen_token_e_c2_8py_source_l00003}00003\ \textcolor{keyword}{from}\ apiclient.discovery\ \textcolor{keyword}{import}\ build}
\DoxyCodeLine{\Hypertarget{_gen_token_e_c2_8py_source_l00004}00004\ \textcolor{keyword}{from}\ httplib2\ \textcolor{keyword}{import}\ Http}
\DoxyCodeLine{\Hypertarget{_gen_token_e_c2_8py_source_l00005}00005\ \textcolor{keyword}{from}\ oauth2client\ \textcolor{keyword}{import}\ file,\ client,\ tools}
\DoxyCodeLine{\Hypertarget{_gen_token_e_c2_8py_source_l00006}00006\ \textcolor{keyword}{from}\ apiclient.http\ \textcolor{keyword}{import}\ MediaFileUpload}
\DoxyCodeLine{\Hypertarget{_gen_token_e_c2_8py_source_l00007}00007\ \textcolor{keyword}{from}\ oauth2client.tools\ \textcolor{keyword}{import}\ argparser,\ run\_flow}
\DoxyCodeLine{\Hypertarget{_gen_token_e_c2_8py_source_l00008}00008\ \textcolor{keyword}{import}\ os}
\DoxyCodeLine{\Hypertarget{_gen_token_e_c2_8py_source_l00009}00009\ }
\DoxyCodeLine{\Hypertarget{_gen_token_e_c2_8py_source_l00010}\mbox{\hyperlink{namespace_gen_token_e_c2_af4950311c9dc8c2f62aa6365000ff1e6}{00010}}\ args\ =\ argparser.parse\_args()}
\DoxyCodeLine{\Hypertarget{_gen_token_e_c2_8py_source_l00011}\mbox{\hyperlink{namespace_gen_token_e_c2_ab2d9fa043c349c094f60743d481850db}{00011}}\ args.noauth\_local\_webserver\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{_gen_token_e_c2_8py_source_l00012}00012\ }
\DoxyCodeLine{\Hypertarget{_gen_token_e_c2_8py_source_l00013}00013\ }
\DoxyCodeLine{\Hypertarget{_gen_token_e_c2_8py_source_l00014}\mbox{\hyperlink{namespace_gen_token_e_c2_aa060bb6f870ed2bf39d5a4be000a006c}{00014}}\ full\_path\ =\ \_\_file\_\_}
\DoxyCodeLine{\Hypertarget{_gen_token_e_c2_8py_source_l00015}\mbox{\hyperlink{namespace_gen_token_e_c2_aa58ab505489131b33e27a80234a590ec}{00015}}\ rel\_path\ =\ full\_path.split(\textcolor{stringliteral}{"{}/"{}})[:-\/1]}
\DoxyCodeLine{\Hypertarget{_gen_token_e_c2_8py_source_l00016}00016\ rel\_path\ =\ \textcolor{stringliteral}{"{}/"{}}.join(rel\_path)}
\DoxyCodeLine{\Hypertarget{_gen_token_e_c2_8py_source_l00017}00017\ }
\DoxyCodeLine{\Hypertarget{_gen_token_e_c2_8py_source_l00018}00018\ }
\DoxyCodeLine{\Hypertarget{_gen_token_e_c2_8py_source_l00019}\mbox{\hyperlink{namespace_gen_token_e_c2_aafe21dc03525ba445e1a9ae8654dc23c}{00019}}\ CLIENT\_SECRET\ =\ rel\_path+\textcolor{stringliteral}{"{}/client\_secret.json"{}}}
\DoxyCodeLine{\Hypertarget{_gen_token_e_c2_8py_source_l00020}00020\ }
\DoxyCodeLine{\Hypertarget{_gen_token_e_c2_8py_source_l00021}00021\ }
\DoxyCodeLine{\Hypertarget{_gen_token_e_c2_8py_source_l00022}\mbox{\hyperlink{namespace_gen_token_e_c2_a755802a3153d3fb4a730c2b5875bdae0}{00022}}\ SCOPES\ =\ [\textcolor{stringliteral}{"{}https://www.googleapis.com/auth/drive"{}},\ \textcolor{stringliteral}{"{}https://www.googleapis.com/auth/drive.file"{}},\ \textcolor{stringliteral}{"{}https://www.googleapis.com/auth/drive.readonly"{}},\ }
\DoxyCodeLine{\Hypertarget{_gen_token_e_c2_8py_source_l00023}00023\ \textcolor{stringliteral}{"{}https://www.googleapis.com/auth/drive.metadata.readonly"{}},\ \textcolor{stringliteral}{"{}https://www.googleapis.com/auth/drive.appdata"{}},\ \textcolor{stringliteral}{"{}https://www.googleapis.com/auth/drive.metadata"{}},\ }
\DoxyCodeLine{\Hypertarget{_gen_token_e_c2_8py_source_l00024}00024\ \textcolor{stringliteral}{"{}https://www.googleapis.com/auth/drive.photos.readonly"{}}]}
\DoxyCodeLine{\Hypertarget{_gen_token_e_c2_8py_source_l00025}00025\ }
\DoxyCodeLine{\Hypertarget{_gen_token_e_c2_8py_source_l00026}00026\ }
\DoxyCodeLine{\Hypertarget{_gen_token_e_c2_8py_source_l00027}\mbox{\hyperlink{namespace_gen_token_e_c2_a8ff13bdefe9e5af1df96ad31a221991b}{00027}}\ store\ =\ file.Storage(rel\_path+\textcolor{stringliteral}{"{}/token.json"{}})}
\DoxyCodeLine{\Hypertarget{_gen_token_e_c2_8py_source_l00028}00028\ }
\DoxyCodeLine{\Hypertarget{_gen_token_e_c2_8py_source_l00029}\mbox{\hyperlink{namespace_gen_token_e_c2_a328162b2279f21a37d3cd61d3ff4ebbb}{00029}}\ creds\ =\ store.get()}
\DoxyCodeLine{\Hypertarget{_gen_token_e_c2_8py_source_l00030}00030\ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ creds\ \textcolor{keywordflow}{or}\ creds.invalid:}
\DoxyCodeLine{\Hypertarget{_gen_token_e_c2_8py_source_l00031}\mbox{\hyperlink{namespace_gen_token_e_c2_ace51a21da952a38c532754f8d32b14ee}{00031}}\ \ \ \ \ flow\ =\ client.flow\_from\_clientsecrets(CLIENT\_SECRET,\ SCOPES)}
\DoxyCodeLine{\Hypertarget{_gen_token_e_c2_8py_source_l00032}00032\ \ \ \ \ creds\ =\ run\_flow(flow,\ store,\ args)}
\DoxyCodeLine{\Hypertarget{_gen_token_e_c2_8py_source_l00033}00033\ }
\DoxyCodeLine{\Hypertarget{_gen_token_e_c2_8py_source_l00034}\mbox{\hyperlink{namespace_gen_token_e_c2_a6ea89a64af9b71ec162df66d7353b7bf}{00034}}\ drive\_service\ =\ build(\textcolor{stringliteral}{"{}drive"{}},\ \textcolor{stringliteral}{"{}v3"{}},\ http=creds.authorize(Http()))}

\end{DoxyCode}
